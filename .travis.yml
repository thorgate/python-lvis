language: python
python:
- '3.4'
install:
- pip install -r requirements-test.txt
script:
- tox
env:
  matrix:
  - TOXENV=py27-django16
  - TOXENV=py27-django17
  - TOXENV=py27-django18
  - TOXENV=py33-django16
  - TOXENV=py33-django17
  - TOXENV=py33-django18
  - TOXENV=py34-django16
  - TOXENV=py34-django17
  - TOXENV=py34-django18
  global:
  # PROXY_HOST_URL
  - secure: cVeSsiEmk0El0GEV3BXTM2vLy5FRI+LgnRIRM3UbFud968qFenkE+FlmoD/4ZxQCeMup66NMyyv91jKeupQ3gKfdFmzUlKAiD0Ok37B965L57hxiFZnVXopTGzWUQ/0BsPpjd/O37mEqSEBGclRPjeFL73+Z/GnZYBvo+byrUJr5KHPm8QThT9LotvsosBcpuvAZ06IExFTVYZbbbeRn8FJ8ZJkN5RmOLwrS2HANDH0hPUbC2vUVrbMRvoDserErCHAMgFASgPn5e1+VW9G1w8Nm70zG/3/oweDNHH7I3MSAoMo3T5IJD6vWfDU+0lsee2QeLNs/kzUPYR0Bl6rr4yUIwDJwhY/NgT62ZZA4kjjN2ycEZkwlxdvtUUWUCdSe6hzMW6jPt4V2/Hk6E4rkBKJQ6cSJmXICG9ROmDux7RR6x9u4/S6aDDtPXO2qI4G9pAEwvbmLw3ZIab7a/21DqkWYzDpj9izYuJmz1vpPuoeuR+LzpEkSbSfzgtHX6GJOX+2/bEMcb5uza1aFeZHQqBRI6TY4Wg7vGWi6BpSpKlhEzaQ1+vtsiVbKkLFFCn6gd9sFFne5yeMV84GwsgppEhQkH3dAGMo8XmYIgSwd62HGiA/nCtnmCN96GApvRJIG+g5b8hbNgih+xa3M37iLkU1tJP91K4lqChfAqWknXlw=
  - TEST_CERTIFICATE_PATH=test_cert.pfx
  # TEST_CERTIFICATE_PERSON_CODE
  - secure: MzJGy2A7wtZ5IZ4c2qM3xtcAmm/Zr7hhe4GgyZvyExW48XVMrMtNaYSYEg5GvbFWNBhyGky0sItgB2bWZR//kj3yhQcAhtvuBRjlvAw4jhoQoRkOYNOfoXDOtyBx5DUYX8xgtEP9BkLzhi2NPa98KR1w9cgfHzioDZZUUEy+pqBZevmnKvWDTeyjjYNrj3uKXjgKNU/10+bhAF0aSpmzaxIDzhFSlbIhq3xRAoztAb7c1nmTfzepQ/jrj6rwPn3pT875mjJgSw+djnrC2/CabI74xuo0i5Z5/NSNWq0y/5bMD55tFhrGoTN8/6gXmzbP+8Qwq2/TdsADMoyHeXDCa4Tqyl0jm2ANHUoShKATdIPiITZ6S8s7E2tIdJ70Zegw4Lwk6UzJhMPiRTtbxM1OJzt2QxO1rt0IiVh9+3dVBwK4/1dx59b2j6VE5aOrggoI/6VrG01QdU6JKE8Kd0G4SxPuULdobDMd5yoJ2nLebyl3xT/0mHScctHzWs9arz/z9KvdOkFAsbUGps4krgYDab8buFSjKFcv55D4TaHBSlOg5ltYXCVgn2f/k0KKEqtTWLxKihyQVuRrelzFXDT33XO1Oi2mLlQMmyXYRdg1J05c0Rgm3blEqNGfrYzTe/Y3chJj9oJrLaDwi11FOIP74/XAkScsUg4pxEIh+YKEqXo=
  # TEST_CERTIFICATE_PASSWORD
  - secure: R56YXIoSpf2AGAe0056bdOg2RLUNrnYYp5FfKD7UURP2UOpBs/0OqtLlTXh9cXHJrscemAwzdgSnNvVrHugYocbYQL9NdWkAiYj9AW+27KIughVy1ODLpxZ3SHQ9r1cOZtOXDaHsO4hYptmgtrxd9dqZE1njVYAvbLDJSErXFaxgve2TU10pch0cYj+854YSUgAZjU+fAYd9z/6EARJ7xt3FW4X5+obXqF1R/CTJhAc6xJWw4lE2NfzrCj9LJdt3WtUNw/m1WO+TWAUhCClW8qMQLzbe9lhGzMgoFFZWUe3kE/mzDksVW9yr8ZXnLl4UewW5JrZYANmIEZVh3syGtgr0A+4OLj1UFXEPhlxzrYC5PTkwgBi9Tl0AFbuiEM8ig/y6I/E+6f6fQw5KMk65m6Yms60XiI71wYgGnMWQHLJ84umDQBdvYyZbEXArBo1EVWiqwPdc3JQc6lCnh6t2O7wEQmKCW//N+wnJjFkxxTXMqwFvebsaRfB4x7fBI+lvMOLqe0NznceBrPdtzUNKVZ33W1qsoiOzV20V6v23eTYy8n7oslrX4xTAgKbfY/AwmQyAMS/czVBzDMDK/D9X+dXjBxhY1miQrpnN1yiz4X9haWe26bGV/81MhSrh3CCWaTT5kgPc1MmTO86e47OT3hD7fJBD5NHcmjaN9XaHBq8=
deploy:
  provider: pypi
  user: thorgate
  password:
    secure: >
      LWOCnrLw1BrrWGrZdsZ6Zfo7scQCZhfmR23vujUCgi7PZE1fODI3HJ/L6fz7uuzD2SBgi8Ihqg4xxOkskhD+OIp6mKjUySPOlVxMqp/Z8jSOk
      Z3tKKml9froW1OCAsDDPb09h5Z4BsBjY+5lGPUpvg2pbd9sDbRWr/i1HydV8kkwmynP7f/d3tpp8FDKLlPLJY5Afo/AqoG5BtUi26IgY0IrE8
      5tVa9KSZx1aCq9sFMxP35bM6CMuIn1SXtw7K349iaIu3ly1+qPDbQWjaDW4Ba1TzE2SPsi2ldBwV2pxMY0lubIagvnlWpg6v+HM+IqC8fTw4f
      aeK8du3JeckxjQXvjrCRymlEXBL/QNELIpGWP7wy/wxsoAZa5e+5xHMP4Ri7hANcfQsEGo+OKTisf+1Ft8w2RIKrNTxL0Rp1DCA2T7njWossH
      pyKEpmfQdk0WIs3ykthtCwew8QpFm6v4VaW29Z9H+rx2S3OdF59hL90iuxlTRBV93TO2KdH5RIbgR65fvx8COc+BBJycvl/ck3cU5zaWA5dJp
      UEu0phOld41Vejlu/ulKRmAI9EdrL5e+8Scbe2kXNXDM9C/7Uldo/ZBrq3JcV5EyYdoLZZAF0NRo93L0C8tSpJOZuVilNldDhzYgQ6ALeSez0
      7Gp4RtN+2KKLCJPvIiMgbLN9T8+nM=
  on:
    tags: true
    distributions: sdist bdist_wheel
    repo: thorgate/python-lvis
before_install:
- openssl aes-256-cbc -K $encrypted_dd19fa13e5b8_key -iv $encrypted_dd19fa13e5b8_iv
  -in test_cert.pfx.enc -out test_cert.pfx -d
